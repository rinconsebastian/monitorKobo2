
@model IEnumerable<App_consulta.Models.NotificationViewModel>
@{
    var count = ViewBag.Count;
    bool admin = ViewBag.Admin;
}
@if (count > 0)
{

    <li class="nav-item dropdown ml-lg-3 d-none d-lg-block">
        <a class="nav-link" href="#" id="navbarDropdown"
           role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-bell alert-bell mr-1"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown" style="max-width:300px; min-width:300px;">
            <h6 class="dropdown-header">Reciente</h6>
            @if (admin)
            {
                foreach (var item in Model)
                {
                    <a class="dropdown-item small overflow-ellipsis" asp-area="" asp-controller="Solicitud" asp-action="Edit" asp-route-id="@item.id" title="Validar">@item.texto</a>
                }
                <div class="dropdown-divider"></div>
                <a class="dropdown-item text-center small font-weight-bold" asp-area="" asp-controller="Solicitud" asp-action="IndexAdmin">
                    Ver todo
                    <span class="badge badge-pill badge-success">@count</span>
                </a>
            }
            else
            {
                foreach (var item in Model)
                {
                    <a class="dropdown-item small overflow-ellipsis" asp-area="" asp-controller="Solicitud" asp-action="DetailsAlert" asp-route-id="@item.id" title="Ver">@item.texto</a>
                }
                <div class="dropdown-divider"></div>
                <a class="dropdown-item text-center small font-weight-bold" asp-area="" asp-controller="Solicitud" asp-action="Index">
                    Ver todo
                    <span class="badge badge-pill badge-warning">@count</span>
                </a>
            }
        </div>
    </li>
    <li class="nav-item d-lg-none">
        @if (admin)
        {
            <div class="dropdown-divider"></div>
            <a class="nav-link text-dark" asp-area="" asp-controller="Solicitud" asp-action="IndexAdmin">
                <i class="fas fa-bell alert-bell mr-1"></i> Notificaciones
                <span class="badge badge-pill badge-warning">@count</span>
            </a>
        }
        else
        {
            <div class="dropdown-divider"></div>
            <a class="nav-link text-dark" asp-area="" asp-controller="Solicitud" asp-action="Index">
                <i class="fas fa-bell alert-bell mr-1"></i> Notificaciones
                <span class="badge badge-pill badge-warning">@count</span>
            </a>
        }

    </li>
}


